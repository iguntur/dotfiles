# ~/.tmux.conf

################################################################################
# Base Configuration
################################################################################
# use vim key bindings
set -g mode-keys vi
set -g status-keys vi
# setw -g mode-keys vi

## UTF is great, let us use that
# set -g utf8
# set-window-option -g utf8 on

# set Zsh as your default Tmux shell
set-option -g default-shell /bin/zsh

# use 256 term for pretty colors
set -g default-terminal "screen-256color"

# increase scroll-back history
set -g history-limit 50000

# increase repeat time for repeatable commands
set -g repeat-time 1000

# So this option has been renamed in version 2.1 (18 October 2015)
# http://stackoverflow.com/questions/11832199/tmux-set-g-mouse-mode-on-doesnt-work
set -g mouse on # enable mouse


set-option -g default-terminal "screen-256color"
# set-option -sg escape-time 10

# set-option -sa terminal-overrides ',screen-256color:RGB'
# set-option -ga terminal-overrides ',screen-256color:Tc'

# switch panes using Alt-arrow without prefix
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D
################################################################################
# List of plugins
################################################################################
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'tmux-plugins/tmux-yank'
# set -g @plugin 'tmux-plugins/tmux-sidebar'

#set -g @plugin 'arcticicestudio/nord-tmux'
# set -g @plugin 'fenetikm/falcon'

# nord-tmux
#set -g @nord_tmux_show_status_content "0"
#set -g @nord_tmux_no_patched_font "1"

################################################################################
# Plugin Configuration
################################################################################
# restore vim sessions
# set -g @resurrect-strategy-vim 'session'
# restore neovim sessions
set -g @resurrect-strategy-nvim 'session'
# restore panes
set -g @resurrect-capture-pane-contents 'on'
# restore last saved environment (automatically)
set -g @continuum-restore 'on'

# tmux-yank for copy and paste
set -g @yank_selection_mouse 'clipboard' # or 'primary' or 'secondary'
################################################################################
# Additional Configuration
################################################################################
# set only on OS X where it's required
# set -g default-command "reattach-to-user-namespace -l $SHELL"

# focus events enabled for terminals that support them
set -g focus-events on

# super useful when using "grouped sessions" and multi-monitor setup
setw -g aggressive-resize on
################################################################################
# Appereances
################################################################################
# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

#source-file $HOME/.tmux/plugins/falcon/tmux/falcon.tmux.conf
source-file $HOME/.dotfiles/files/tmux/catppuccin.conf

# source '/usr/share/tmux/powerline.conf'
################################################################################
# Keymaps
################################################################################
unbind % # replace with "|"
bind | split-window -h -c "#{pane_current_path}"

unbind '"' # replace with "-"
bind - split-window -v -c "#{pane_current_path}"

bind c new-window -c "#{pane_current_path}"

bind-key -r < swap-window -t -
bind-key -r > swap-window -t +

################################################################################
# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
################################################################################
run -b '~/.tmux/plugins/tpm/tpm'

bind-key -r G run-shell "~/.dotfiles/scripts/switch-back-to-nvim"
